:root{
    --bg: #0b1020;
    --panel: #121933;
    --card: #161e3f;
    --text: #e8ecf8;
    --muted: #a9b3d1;
    --primary: #6aa8ff;
    --primary-600:#3c86ff;
    --accent: #9b7bff;
    --success:#35c98b;
    --danger:#ff6b6b;
    --warning:#ffb84d;
    --shadow: 0 10px 30px rgba(0,0,0,.35);
    --radius: 14px;
}

/* Light theme */
[data-theme="light"]{
    --bg: #f6f7fb;
    --panel: #ffffff;
    --card: #ffffff;
    --text: #0e1222;
    --muted: #4b587c;
    --primary: #2f6af9;
    --primary-600:#2a5fe0;
    --accent: #7a5cff;
    --success:#17a673;
    --danger:#e24646;
    --warning:#e19a22;
    --shadow: 0 12px 28px rgba(0,0,0,.08);
}

/* Header theme select */
.theme-select{height:36px;border-radius:10px;border:1px solid rgba(255,255,255,.15);background:transparent;color:var(--text);padding:0 10px}
.visually-hidden{position:absolute!important;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}

/* Additional Light Themes */
[data-theme="light-mint-cream"]{
    --bg:#f6fffb; --panel:#ffffff; --card:#ffffff; --text:#0e1222; --muted:#4b587c;
    --primary:#1fbf8f; --primary-600:#16a67c; --accent:#70d6c5; --shadow:0 12px 28px rgba(0,0,0,.08);
}
[data-theme="light-warm-beige"]{
    --bg:#f8f3ea; --panel:#ffffff; --card:#ffffff; --text:#2b1f13; --muted:#6c5f4a;
    --primary:#c28b5b; --primary-600:#a97447; --accent:#e0b88a;
}
[data-theme="light-soft-teal"]{
    --bg:#eef8f7; --panel:#ffffff; --card:#ffffff; --text:#0f1a1a; --muted:#4d6666;
    --primary:#2aa6a6; --primary-600:#1d8e8e; --accent:#5fd1c8;
}
[data-theme="light-lavender-mist"]{
    --bg:#f5f2fb; --panel:#ffffff; --card:#ffffff; --text:#1d152e; --muted:#6a6180;
    --primary:#7a5cff; --primary-600:#6947ff; --accent:#b7a4ff;
}
[data-theme="light-sky-breeze"]{
    --bg:#f2f7ff; --panel:#ffffff; --card:#ffffff; --text:#0e1424; --muted:#4d5f85;
    --primary:#2f6af9; --primary-600:#2a5fe0; --accent:#79b1ff;
}
[data-theme="light-blush-rose"]{
    --bg:#fff5f7; --panel:#ffffff; --card:#ffffff; --text:#2b1016; --muted:#805a66;
    --primary:#ff6b8a; --primary-600:#e65576; --accent:#ff9db3;
}
[data-theme="light-ivory-glow"]{
    --bg:#fffbf2; --panel:#ffffff; --card:#ffffff; --text:#2a1f0e; --muted:#6b624f;
    --primary:#e0a938; --primary-600:#c99225; --accent:#ffd36a;
}
[data-theme="light-ocean-pearl"]{
    --bg:#f3fbff; --panel:#ffffff; --card:#ffffff; --text:#0e1520; --muted:#526175;
    --primary:#5aa7d8; --primary-600:#3f93cc; --accent:#9ed4f0;
}
[data-theme="light-lemon-frost"]{
    --bg:#fcffe8; --panel:#ffffff; --card:#ffffff; --text:#22250e; --muted:#6b7046;
    --primary:#c6d400; --primary-600:#aab700; --accent:#eef77a;
}
[data-theme="light-cloud-drift"]{
    --bg:#f7f9fc; --panel:#ffffff; --card:#ffffff; --text:#0f141f; --muted:#53627a;
    --primary:#7aa1ff; --primary-600:#5d89ff; --accent:#a8c1ff;
}
[data-theme="light-frost-mint"]{
    --bg:#f1fffb; --panel:#ffffff; --card:#ffffff; --text:#0f211c; --muted:#4f6c64;
    --primary:#31cda5; --primary-600:#25b592; --accent:#84ecd5;
}
[data-theme="light-peach-glow"]{
    --bg:#fff5ee; --panel:#ffffff; --card:#ffffff; --text:#2a160f; --muted:#765c52;
    --primary:#ff8f5a; --primary-600:#ec7840; --accent:#ffb899;
}
[data-theme="light-sand-dune"]{
    --bg:#f7f1e6; --panel:#ffffff; --card:#ffffff; --text:#2b2114; --muted:#6a5e49;
    --primary:#bb8b55; --primary-600:#a57441; --accent:#d9b487;
}
[data-theme="light-snow-lilac"]{
    --bg:#faf7ff; --panel:#ffffff; --card:#ffffff; --text:#1f1633; --muted:#6a5f85;
    --primary:#a88bff; --primary-600:#9574ff; --accent:#d2c5ff;
}

/* Additional Dark Themes */
[data-theme="dark-emerald-night"]{
    --bg:#0a1a14; --panel:#0f221a; --card:#142a20; --text:#e6fff6; --muted:#9bcab8;
    --primary:#2ecf93; --primary-600:#23b781; --accent:#4fe0b0;
}
[data-theme="dark-rust-orange"]{
    --bg:#1b100a; --panel:#24150d; --card:#2a1a11; --text:#ffeede; --muted:#d0b5a3;
    --primary:#ff8a3c; --primary-600:#e9782d; --accent:#ffb07a;
}
[data-theme="dark-charcoal-violet"]{
    --bg:#0f0d16; --panel:#141225; --card:#1a1733; --text:#efeaff; --muted:#b5acd6;
    --primary:#7a5cff; --primary-600:#6947ff; --accent:#9c86ff;
}
[data-theme="dark-deep-plum"]{
    --bg:#140914; --panel:#1a0e1a; --card:#241326; --text:#ffeaff; --muted:#d1b4d6;
    --primary:#b055c9; --primary-600:#9547ab; --accent:#d58ae3;
}
[data-theme="dark-midnight-blue"]{
    --bg:#0b1020; --panel:#121933; --card:#161e3f; --text:#e8ecf8; --muted:#a9b3d1;
    --primary:#6aa8ff; --primary-600:#3c86ff; --accent:#9b7bff;
}
[data-theme="dark-wine-red"]{
    --bg:#17080c; --panel:#220c12; --card:#2c0f17; --text:#ffe8ee; --muted:#d7a6b3;
    --primary:#c23a5b; --primary-600:#a52e4b; --accent:#e07994;
}
[data-theme="dark-onyx-shadow"]{
    --bg:#0a0a0b; --panel:#111113; --card:#161618; --text:#eaeaea; --muted:#b6b6b6;
    --primary:#6aa8ff; --primary-600:#3c86ff; --accent:#9b7bff;
}
[data-theme="dark-deep-sea"]{
    --bg:#06161c; --panel:#0b1f27; --card:#0f2731; --text:#e6f7fb; --muted:#a3c7d1;
    --primary:#3db0d4; --primary-600:#2b96b8; --accent:#6fd1ec;
}
[data-theme="dark-amber-gold"]{
    --bg:#120d06; --panel:#191108; --card:#20150a; --text:#fff2d6; --muted:#d7c4a5;
    --primary:#e0a938; --primary-600:#c99225; --accent:#ffd36a;
}
[data-theme="dark-storm-grey"]{
    --bg:#0e0f12; --panel:#16181c; --card:#1d2026; --text:#e9edf2; --muted:#b3bcc9;
    --primary:#7aa1ff; --primary-600:#5d89ff; --accent:#9fb9ff;
}
[data-theme="dark-forest-pine"]{
    --bg:#0b1410; --panel:#102018; --card:#14281e; --text:#e6fff1; --muted:#a0cbb7;
    --primary:#2aa66e; --primary-600:#20895a; --accent:#56d19b;
}
[data-theme="dark-mocha-brown"]{
    --bg:#100a07; --panel:#18100b; --card:#20150e; --text:#ffefe3; --muted:#cfb8a7;
    --primary:#b77a4a; --primary-600:#9d663b; --accent:#d9a980;
}
[data-theme="dark-copper-dust"]{
    --bg:#120a06; --panel:#1a0f0a; --card:#23140d; --text:#ffe9db; --muted:#d5b9a8;
    --primary:#cc7048; --primary-600:#b35f3b; --accent:#e29a7c;
}
[data-theme="dark-twilight-purple"]{
    --bg:#0e0b16; --panel:#151028; --card:#1b1433; --text:#efe7ff; --muted:#c1b3e3;
    --primary:#8e6bff; --primary-600:#7a55ff; --accent:#b19aff;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
    margin:0;
    font-family: Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,Helvetica,sans-serif;
    background: radial-gradient(1200px 700px at 10% -10%, rgba(106,168,255,.18), transparent 60%),
                radial-gradient(1200px 700px at 100% 0%, rgba(155,123,255,.18), transparent 60%),
                var(--bg);
    color:var(--text);
}

.app-header{
    position:sticky;top:0;z-index:10;
    display:flex;align-items:center;justify-content:space-between;
    padding:16px 20px;
    background:linear-gradient(180deg, rgba(0,0,0,.36), rgba(0,0,0,0)) , transparent;
    backdrop-filter:saturate(140%) blur(6px);
}
.brand{display:flex;align-items:center;gap:12px}
.brand .logo{font-size:28px;filter:drop-shadow(0 6px 10px rgba(0,0,0,.25))}
.brand h1{font-size:20px;margin:0;font-weight:700}
.header-actions{display:flex;gap:8px}

.container{max-width:1100px;margin:0 auto;padding:14px 20px 60px}
.hero{padding:18px 22px}
.hero h2{margin:0 0 6px 0;font-size:28px}
.hero p{margin:0;color:var(--muted)}

.card{
    background:var(--card);
    border:1px solid rgba(255,255,255,.06);
    border-radius:var(--radius);
    box-shadow:var(--shadow);
    padding:16px;
}

/* Tabs */
.tabs{display:flex;gap:8px;align-items:center}
.tab{border:1px solid rgba(255,255,255,.12);background:transparent;color:var(--text);padding:10px 14px;border-radius:999px;cursor:pointer;font-weight:600}
.tab.active{background:linear-gradient(135deg,var(--primary),var(--accent));color:#fff;border-color:transparent}

/* Visibility helpers for role sections */
[data-visible="admin"], [data-visible="user"], [data-visible="both"]{display:block}
.role-user [data-visible="admin"]{display:none}
.role-admin [data-visible="user"]{display:none}

/* Orders */
.orders-list{display:grid;gap:10px;margin-top:8px}
.order-card{display:flex;justify-content:space-between;align-items:center;padding:12px;border:1px solid rgba(255,255,255,.08);border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,0)), var(--card)}
.order-meta{color:var(--muted);font-size:13px}
.status{padding:4px 8px;border-radius:999px;font-size:12px;font-weight:700}
.status.Pending{background:#fff3c4;color:#664d03}
.status.Approved{background:#d7ffef;color:#0b5e3a}
.status.Rejected{background:#ffe4e4;color:#8a1f1f}
.order-actions{display:flex;gap:8px}
.approve{border:1px solid rgba(255,255,255,.15);color:var(--success);background:transparent}
.reject{border:1px solid rgba(255,255,255,.15);color:var(--danger);background:transparent}

.controls .row{display:grid;grid-template-columns:1.4fr repeat(3, 1fr);gap:12px}
.control label{display:block;font-size:12px;color:var(--muted);margin-bottom:6px}
.control input,.control select{
    width:100%;height:40px;border-radius:10px;
    border:1px solid rgba(255,255,255,.1);
    background:transparent;color:var(--text);
    padding:0 12px;outline:none;
}
.control select{background-color:var(--card)}
select, option{color:var(--text); background: var(--card)}
.control input::placeholder{color:color-mix(in oklab, var(--muted) 80%, transparent)}
.search-wrap{position:relative}
.control.search input{padding-left:38px;background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" fill="%23a9b3d1" viewBox="0 0 24 24"><path d="M21 21l-4.35-4.35M10.5 18a7.5 7.5 0 110-15 7.5 7.5 0 010 15z" stroke="%23a9b3d1" stroke-width="2" stroke-linecap="round"/></svg>');background-repeat:no-repeat;background-size:16px;background-position:12px center}
.search-suggestions{position:absolute;left:0;right:0;top:44px;z-index:5;background:var(--card);border:1px solid rgba(255,255,255,.12);border-radius:10px;box-shadow:var(--shadow);display:none;max-height:260px;overflow:auto}
.search-suggestions.active{display:block}
.search-suggestions .item{padding:10px 12px;cursor:pointer;display:flex;justify-content:space-between;gap:10px}
.search-suggestions .item:hover, .search-suggestions .item.active{background:rgba(255,255,255,.06)}
.search-suggestions .meta{color:var(--muted);font-size:12px}

.grid-form{display:grid;grid-template-columns:repeat(5,1fr);gap:12px}
.grid-form .field{display:flex;flex-direction:column}
.grid-form .actions{grid-column:span 5;display:flex;gap:10px}

.btn{height:38px;border-radius:10px;border:0;padding:0 14px;cursor:pointer;font-weight:600;color:#fff;background:var(--panel);transition:transform .12s ease, box-shadow .2s ease, background .2s ease}
.btn.primary{background:linear-gradient(135deg,var(--primary),var(--accent))}
.btn.ghost{background:transparent;color:var(--text);border:1px solid rgba(255,255,255,.15)}
.btn.icon{width:36px;height:36px;display:grid;place-items:center}
.btn:hover{transform:translateY(-1px)}
.btn:active{transform:translateY(0)}

.list-header{display:flex;align-items:center;justify-content:space-between;margin:14px 4px}
.muted{color:var(--muted)}

.book-grid{display:grid;grid-template-columns:repeat(3, 1fr);gap:14px}
.book-card{position:relative;padding:14px;border-radius:14px;background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,0)), var(--card);border:1px solid rgba(255,255,255,.06);box-shadow:var(--shadow);transition:transform .2s ease, box-shadow .2s ease, border-color .2s ease, background .3s ease}
.book-card:hover{transform:translateY(-4px);box-shadow:0 16px 40px rgba(0,0,0,.35);border-color:rgba(255,255,255,.12)}
.book-title{margin:0 0 6px 0;font-size:18px}
.book-meta{margin:0;color:var(--muted);font-size:13px}
.tags{display:flex;flex-wrap:wrap;gap:6px;margin-top:10px}
.tag{padding:4px 8px;border-radius:100px;font-size:12px;font-weight:600;color:#0e1222;background:#e8ecf8}
.tag.genre-Classic{background:#ffe8c2}
.tag.genre-Fantasy{background:#e1f0ff}
.tag.genre-Science{background:#d8ffe8}
.tag.genre-Nonfiction{background:#ffdff0}
.tag.genre-Mystery{background:#f3e7ff}
.tag.available{background:#d7ffef}
.tag.unavailable{background:#ffe4e4}

.card-actions{display:flex;gap:8px;margin-top:12px}
.remove-btn{background:transparent;border:1px solid rgba(255,255,255,.15);color:var(--danger)}
.details-btn{background:transparent;border:1px solid rgba(255,255,255,.15)}
.request-btn{background:transparent;border:1px solid rgba(255,255,255,.15);color:var(--primary)}
.qty-btn{width:36px;padding:0;text-align:center}

.highlight{background:linear-gradient(transparent 30%, rgba(255,235,59,.6) 30%, rgba(255,235,59,.6) 70%, transparent 70%)}

/* Modal */
.modal{position:fixed;inset:0;display:none}
.modal[open], .modal.active{display:block}
.modal-backdrop{position:absolute;inset:0;background:rgba(0,0,0,.5);opacity:0;animation:fadeIn .25s forwards}
.modal-dialog{position:relative;max-width:560px;margin:10vh auto 0;transform:translateY(10px);animation:slideUp .25s forwards}
.modal-close{position:absolute;right:10px;top:10px}
.modal-content p{color:var(--muted)}

.app-footer{padding:30px 20px;color:var(--muted);text-align:center}

/* Animations */
.fade-in{opacity:0;animation:fadeIn .6s .05s forwards}
.slide-up{opacity:0;transform:translateY(8px);animation:slideUp .5s .1s forwards}
@keyframes fadeIn{to{opacity:1}}
@keyframes slideUp{to{opacity:1;transform:none}}

/* Responsive */
@media (max-width: 1024px){
    .controls .row{grid-template-columns:1fr 1fr;}
    .grid-form{grid-template-columns:repeat(2,1fr)}
    .grid-form .actions{grid-column:span 2}
    .book-grid{grid-template-columns:repeat(2, 1fr)}
}
@media (max-width: 640px){
    .controls .row{grid-template-columns:1fr}
    .book-grid{grid-template-columns:1fr}
}

